# Wondershaper QuickToggle v1.1.0 ‚Äî New Features Guide

## üåç Multi-Language Support

The app now supports **4 languages** out of the box:
- **English** (en)
- **Fran√ßais** (fr)
- **Deutsch** (de)
- **Espa√±ol** (es)

### How it works
- Language is **auto-detected** from your system locale
- Change language in Settings ‚Üí Language selector
- Translations saved to config, persisted across restarts

### Adding more languages
1. Copy `i18n/en.json` to `i18n/<language_code>.json`
2. Translate all strings (keep keys the same)
3. Update `language_name` to the native name
4. Restart app ‚Äî language appears in dropdown automatically

---

## ‚ûï Preset Management

You can now **add and delete custom presets** directly from the settings window.

### Add a Preset
1. Open Settings
2. Fill in "Preset name", "Download (Mbps)", "Upload (Mbps)"
3. Click **"Add Preset"**
4. New preset appears in tray menu immediately

### Delete a Preset
1. Open Settings
2. Select the preset you want to remove from dropdown
3. Click **"Delete Preset"**
4. Cannot delete the last preset (minimum 1 required)

### Notes
- Presets are **saved to disk** (`~/.config/wondershaper-quicktoggle/config.json`)
- Bandwidth values validated: **1-10000 Mbps**
- Preset names must be **non-empty**
- "Custom" is a special built-in preset and cannot be deleted

---

## üìä Visual Status Indicator

The settings window now shows a **status header** at the top:

```
Status: ENABLED ‚Äî Active: Gaming
```

or

```
Status: DISABLED ‚Äî Active: Work
```

This gives you instant visibility into:
- Whether bandwidth limiting is currently active
- Which preset is currently selected

---

## Verification Commands

```bash
# Test app with French UI
LANG=fr_FR.UTF-8 python3 src/main.py

# Test app with German UI
LANG=de_DE.UTF-8 python3 src/main.py

# Test app with Spanish UI
LANG=es_ES.UTF-8 python3 src/main.py

# Validate translation files
for file in i18n/*.json; do
  python3 -c "import json; json.load(open('$file'))" && echo "$file OK"
done

# Check all Python files
python3 -m py_compile src/*.py helper/wsqt_helper.py
```

---

## Upgrade from v1.0

If you have v1.0 installed:

```bash
cd /home/danux/Wondershaper-GUI/Wondershaper-GUI
cp -r packaging/debian .
dpkg-buildpackage -us -uc
cd ..
sudo apt install --reinstall ./wondershaper-quicktoggle_1.1.0-1_all.deb
```

Your existing config (`~/.config/wondershaper-quicktoggle/config.json`) is preserved.

---

## File Changes Summary

**New files:**
- `i18n/fr.json` ‚Äî French translation
- `i18n/de.json` ‚Äî German translation
- `i18n/es.json` ‚Äî Spanish translation
- `docs/v1.1-new-features.md` ‚Äî This document

**Modified files:**
- `src/app.py` ‚Äî Added preset add/delete handlers, status indicator
- `i18n/en.json` ‚Äî Added new translation keys
- `README.md` ‚Äî Updated feature list
- `RELEASE_NOTES.md` ‚Äî Added v1.1.0 section
- `packaging/debian/changelog` ‚Äî Bumped to 1.1.0-1
- `packaging/debian/install` ‚Äî Install new translation files

**No breaking changes:** All existing configs compatible.
